# schedule

## TimeLine

1. 20240802
   1. max(a1, a3) 的评价函数的实现
   2. 涉及历史方法的重构与新方法的优化
   3. 重新跑通评价函数1的链路
   4. 评价函数1的分析结果(analyze.py实现), 初步看下接下来的可行性
      1. 分析结果的ratio作为超参处理

## 不变性研究

取同类目的多个图片,寻找一定比例的神经元,查看重合程度
<P>

不变性研究可以依赖(但非阻塞)需要验证的评价函数,其中一种评价函数一定要验证(对于gill模型)

1. Img0时的纯激活函数A1
2. 激活值乘 * W_out * A2(金毛法)
3. 激活值 * W_out * A3(权重)
4. Max(A1, A3)

### 不变性的计算方式

对于同一批样本, 求出这些样本的归因(每一层,每一个神经元)后:

1. 个体神经元不变性: 同一top ratio的不同样本内, 其有效性保持一定水平, 有效性 = 出现次数/样本数
2. ratio 取一定比例的超参数

### 评价函数的实现

TODO: ruipeng

## 重构

分支在镜像下掉的时候丢失,写不变性研究的时候顺便补上去

1. 配置驱动
2. pipeline化

## 批量化处理

1. 数据集抽样分类 每个类别挑 10 个 smaple， 类别的总样本数 s.t  count of category > 100
2. 对于每个样本，中间存储的， 需要一定的格式化命名
   1. 生成的图片
   2. 反推回的attribution
   3. 模型 backbone的每一层的神经元的分数
3. 投入分析，同样需要格式化命名
4. (可选)生成热力图


result[i][j] = Wout[i][j] * weights[j]